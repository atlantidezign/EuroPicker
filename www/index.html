<!DOCTYPE html> 
<html> 
	<head>
  <meta charset="UTF-8">	
	<title>Euro Coin Picker</title> 
	
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="jquery.mobile.structure-1.0.1.css" />
	<link rel="apple-touch-icon" href="images/launch_icon_57.png" />
	<link rel="apple-touch-icon" sizes="72x72" href="images/launch_icon_72.png" />
	<link rel="apple-touch-icon" sizes="114x114" href="images/launch_icon_114.png" />
	<link rel="stylesheet" href="jquery.mobile-1.0.1.css" />
	<link rel="stylesheet" href="custom.css" />
	<script src="js/jquery-1.7.1.min.js"></script>
	<script src="js/jquery.mobile-1.0.1.min.js"></script>
</head> 

<body> 
<div id="loginPage" data-role="page" data-theme="c">
<div data-role="header">
<h1>App Authentication</h1>
</div>

<div data-role="content">   
    <div id="landmark-1" data-landmark-id="1">
    <form id="loginForm" method="post">
    <div data-role="fieldcontain" class="ui-hide-label">
        <label for="username">Username:</label>
        <input type="text" name="username" id="username" value="" placeholder="Username" />
    </div>

    <div data-role="fieldcontain" class="ui-hide-label">
        <label for="password">Password:</label>
        <input type="password" name="password" id="password" value="" placeholder="Password" />
    </div>

    <input type="submit" value="Login" id="submitButton">
    </form>
</div>  
</div>

<div data-role="footer">
    <h4>&copy; WebPanda 2014</h4>
</div><!-- /page -->
	
	<script>
		$('#submitButton').click(function(e){
		 e.preventDefault();
		 jQuery.support.cors = true; 
		 $.ajax({ 
		     url: 'http://www.europicker.it/app/auth.php',
		     crossDomain: true,
		     type: 'post',
		     data: $("#loginForm").serialize(), 
		     success: function(data){
		         if(data.status == 'success'){
		             window.location.href = 'http://www.test.com/mobile/main.html'; 
		         }else if(data.status == 'error'){
		             alert("Authentication Invalid. Please try again!");
		             return false;        
		        }
		     }

		 }); 

		 }); 
	</script>
</body>
</html>
